{% extends "base.html" %}

{% block title %}Registrarse - Music Reseñas{% endblock %}

{% block content %}
<div class="container" style="max-width: 500px; margin-top: 3rem; margin-bottom: 3rem;">
    <div class="card">
        <h1 class="text-center mb-3">Crear cuenta</h1>

        <form method="POST" action="{{ url_for('register') }}">
            <div class="form-group">
                <label class="form-label" for="username">Usuario *</label>
                <input type="text" id="username" name="username" class="form-input" placeholder="Elige un nombre de usuario"
                    required autofocus>
            </div>

            <div class="form-group">
                <label class="form-label" for="email">Correo electronico *</label>
                <input type="email" id="email" name="email" class="form-input" placeholder="tu.email@ejemplo.com"
                    required>
            </div>

            <div class="form-group">
                <label class="form-label" for="full_name">Nombre completo</label>
                <input type="text" id="full_name" name="full_name" class="form-input"
                    placeholder="Tu nombre completo (opcional)">
            </div>

            <div class="form-group">
                <label class="form-label" for="password">Contraseña *</label>
                <input type="password" id="password" name="password" class="form-input"
                    placeholder="Crea una contraseña segura" required minlength="6">
            </div>

            <div class="form-group">
                <label class="form-label" for="confirm_password">Confirmar contraseña *</label>
                <input type="password" id="confirm_password" name="confirm_password" class="form-input"
                    placeholder="Reingresa tu contraseña" required minlength="6">
            </div>

            <button type="submit" class="btn btn-primary" style="width: 100%;">
                Crear cuenta
            </button>
        </form>

        <div class="text-center mt-3">
            <p style="color: var(--spotify-light-gray);">
                ¿Ya tienes una cuenta?
                <a href="{{ url_for('login') }}" style="color: var(--spotify-green);">Inicia sesion aqui</a>
            </p>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>

    document.querySelector('form').addEventListener('submit', function (e) {
        const password = document.getElementById('password').value;
        const confirmPassword = document.getElementById('confirm_password').value;

        if (password !== confirmPassword) {
            e.preventDefault();
            alert('¡Las contraseñas no coinciden!');
        }
    });
</script>
{% endblock %}