{% extends "base.html" %}

{% block title %}Agregar Album - Music Ratings{% endblock %}

{% block content %}
<section class="hero">
    <div class="container">
        <h1>Agregar Album</h1>
        <p>Crea un nuevo album en la base de datos</p>
    </div>
</section>

<style>
    /* Fix para que las opciones del select sean legibles */
    select option {
        background-color: white;
        color: black;
    }
</style>

<div class="container">
    <div class="card" style="margin: 2rem auto; max-width: 500px;">
        <form method="POST">
            <div style="margin-bottom: 1.5rem;">
                <label for="artist_id" style="display: block; margin-bottom: 0.5rem; font-weight: bold;">
                    Artista *
                </label>
                {% if artist_id %}
                    <input type="hidden" id="artist_id" name="artist_id" value="{{ artist_id }}">
                    <input type="text" value="Cargando..." disabled 
                           style="width: 100%; padding: 0.75rem; border: 1px solid var(--spotify-green); background: var(--spotify-darker); color: white; border-radius: 4px; box-sizing: border-box;">
                {% else %}
                    <select id="artist_id" name="artist_id" required
                            style="width: 100%; padding: 0.75rem; border: 1px solid var(--spotify-green); background: var(--spotify-darker); color: white; border-radius: 4px; box-sizing: border-box;">
                        <option value="">Selecciona un artista</option>
                        {% for artist in artistas %}
                        <option value="{{ artist.artist_id }}">{{ artist.artist_name }}</option>
                        {% endfor %}
                    </select>
                {% endif %}
            </div>
            
            <div style="margin-bottom: 1.5rem;">
                <label for="album_title" style="display: block; margin-bottom: 0.5rem; font-weight: bold;">
                    Nombre del Album *
                </label>
                <input type="text" id="album_title" name="album_title" required 
                       style="width: 100%; padding: 0.75rem; border: 1px solid var(--spotify-green); background: var(--spotify-darker); color: white; border-radius: 4px; box-sizing: border-box;">
            </div>
            
            <div style="margin-bottom: 1.5rem;">
                <label for="release_date" style="display: block; margin-bottom: 0.5rem;">
                    Fecha de Lanzamiento (YYYY-MM-DD)
                </label>
                <input type="date" id="release_date" name="release_date" 
                       style="width: 100%; padding: 0.75rem; border: 1px solid var(--spotify-green); background: var(--spotify-darker); color: white; border-radius: 4px; box-sizing: border-box;">
            </div>
            
            <div style="margin-bottom: 1.5rem;">
                <label for="genre" style="display: block; margin-bottom: 0.5rem;">
                    Genero
                </label>
                <input type="text" id="genre" name="genre" 
                       style="width: 100%; padding: 0.75rem; border: 1px solid var(--spotify-green); background: var(--spotify-darker); color: white; border-radius: 4px; box-sizing: border-box;">
            </div>
            
            <button type="submit" class="btn btn-primary" style="width: 100%; padding: 0.75rem;">
                Crear Album
            </button>
        </form>
        
        <a href="{{ url_for('admin_panel') }}" style="display: inline-block; margin-top: 1rem; color: var(--spotify-light-gray);">
            ‚Üê Volver al panel
        </a>
    </div>
</div>
{% endblock %}
